<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåø Admin Panel - ƒê·∫∑c S·∫£n T√¢y B·∫Øc</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Login Modal */
        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .login-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            width: 400px;
            max-width: 90%;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .login-header h2 {
            color: #27ae60;
            margin-bottom: 0.5rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: 600;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: #27ae60;
        }
        
        .btn {
            width: 100%;
            padding: 12px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: #219a52;
        }
        
        .btn-danger {
            background: #dc3545;
        }
        
        .btn-danger:hover {
            background: #c82333;
        }
        
        .btn-primary {
            background: #007bff;
        }
        
        .btn-primary:hover {
            background: #0056b3;
        }
        
        /* Dashboard */
        .dashboard {
            display: none;
        }
        
        .dashboard.active {
            display: block;
        }
        
        .dashboard-header {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .dashboard-header h1 {
            color: #27ae60;
            margin-bottom: 1rem;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .stat-card i {
            font-size: 2rem;
            color: #27ae60;
            margin-bottom: 1rem;
        }
        
        .stat-card h3 {
            color: #333;
            margin-bottom: 0.5rem;
        }
        
        .stat-card p {
            color: #666;
            font-size: 1.2rem;
        }
        
        /* Products Section */
        .products-section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .section-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .search-filter {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .search-filter input, .search-filter select {
            padding: 10px;
            border: 2px solid #e1e8ed;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .product-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid #e9ecef;
            transition: transform 0.2s;
        }
        
        .product-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .product-header h4 {
            color: #333;
            font-size: 1.1rem;
        }
        
        .product-emoji {
            font-size: 2rem;
        }
        
        .product-info {
            margin-bottom: 1rem;
        }
        
        .product-info p {
            color: #666;
            margin: 0.25rem 0;
            font-size: 0.9rem;
        }
        
        .price-section {
            background: #e8f5e8;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }
        
        .price-display {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .price-display span {
            font-weight: bold;
        }
        
        .original-price {
            color: #666;
            text-decoration: line-through;
        }
        
        .current-price {
            color: #27ae60;
            font-size: 1.1rem;
        }
        
        .price-edit {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .price-input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .product-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            flex: 1;
        }
        
        .btn-edit {
            background: #17a2b8;
            color: white;
        }
        
        .btn-edit:hover {
            background: #138496;
        }
        
        .btn-reset {
            background: #ffc107;
            color: #212529;
        }
        
        .btn-reset:hover {
            background: #e0a800;
        }
        
        /* Status Messages */
        .status-message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s;
        }
        
        .status-message.show {
            transform: translateX(0);
        }
        
        .status-message.success {
            background: #28a745;
        }
        
        .status-message.error {
            background: #dc3545;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .admin-container {
                padding: 10px;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .search-filter {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- Login Modal -->
        <div id="loginModal" class="login-modal">
            <div class="login-content">
                <div class="login-header">
                    <h2><i class="fas fa-shield-alt"></i> Admin Login</h2>
                    <p>ƒêƒÉng nh·∫≠p ƒë·ªÉ qu·∫£n l√Ω s·∫£n ph·∫©m</p>
                </div>
                <form id="loginForm">
                    <div class="form-group">
                        <label><i class="fas fa-user"></i> T√™n ƒëƒÉng nh·∫≠p:</label>
                        <input type="text" id="username" placeholder="admin" required>
                    </div>
                    <div class="form-group">
                        <label><i class="fas fa-lock"></i> M·∫≠t kh·∫©u:</label>
                        <input type="password" id="password" placeholder="admin123" required>
                    </div>
                    <button type="submit" class="btn">
                        <i class="fas fa-sign-in-alt"></i> ƒêƒÉng Nh·∫≠p
                    </button>
                </form>
                <div style="text-align: center; margin-top: 1rem; color: #666; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i> T√†i kho·∫£n m·∫∑c ƒë·ªãnh: admin / admin123
                </div>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="dashboard">
            <div class="dashboard-header">
                <h1><i class="fas fa-leaf"></i> Admin Panel - ƒê·∫∑c S·∫£n T√¢y B·∫Øc</h1>
                <div style="display: flex; gap: 1rem; margin-top: 1rem;">
                    <a href="https://nguyenngocbinh.github.io/DACSANTAYBAC/" target="_blank" class="btn btn-primary" style="display: inline-block; text-decoration: none; text-align: center; width: auto;">
                        <i class="fas fa-external-link-alt"></i> Xem Website
                    </a>
                    <button class="btn btn-danger" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> ƒêƒÉng Xu·∫•t
                    </button>
                </div>
            </div>

            <!-- Statistics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <i class="fas fa-boxes"></i>
                    <h3>T·ªïng S·∫£n Ph·∫©m</h3>
                    <p id="totalProducts">21</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-dollar-sign"></i>
                    <h3>ƒê√£ S·ª≠a Gi√°</h3>
                    <p id="modifiedProducts">0</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-chart-line"></i>
                    <h3>Gi√° Trung B√¨nh</h3>
                    <p id="averagePrice">0‚Ç´</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-tags"></i>
                    <h3>Danh M·ª•c</h3>
                    <p>4 lo·∫°i</p>
                </div>
            </div>

            <!-- Products Section -->
            <div class="products-section">
                <div class="section-header">
                    <h2><i class="fas fa-shopping-basket"></i> Qu·∫£n L√Ω S·∫£n Ph·∫©m</h2>
                </div>

                <div class="search-filter">
                    <input type="text" id="searchInput" placeholder="üîç T√¨m ki·∫øm s·∫£n ph·∫©m..." onkeyup="filterProducts()">
                    <select id="categoryFilter" onchange="filterProducts()">
                        <option value="">üè∑Ô∏è T·∫•t c·∫£ danh m·ª•c</option>
                        <option value="D∆∞·ª£c li·ªáu">üåø D∆∞·ª£c li·ªáu</option>
                        <option value="Th·ª±c ph·∫©m">üçØ Th·ª±c ph·∫©m</option>
                        <option value="ƒê·ªì u·ªëng">üçµ ƒê·ªì u·ªëng</option>
                        <option value="Tinh d·∫ßu">üíß Tinh d·∫ßu</option>
                    </select>
                    <button class="btn btn-primary" onclick="resetAllPrices()" style="width: auto; padding: 10px 20px;">
                        <i class="fas fa-undo"></i> Reset T·∫•t C·∫£
                    </button>
                </div>

                <div id="productsGrid" class="products-grid">
                    <!-- Products will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Status Message -->
    <div id="statusMessage" class="status-message"></div>

    <script>
        // Products data
        const products = [
            { id: 1, name: "Tam th·∫•t kh√¥", price: 120000, category: "D∆∞·ª£c li·ªáu", emoji: "üåø", description: "Tam th·∫•t kh√¥ ch·∫•t l∆∞·ª£ng cao t·ª´ n√∫i r·ª´ng T√¢y B·∫Øc" },
            { id: 2, name: "M·∫≠t ong r·ª´ng", price: 250000, category: "Th·ª±c ph·∫©m", emoji: "üçØ", description: "M·∫≠t ong r·ª´ng nguy√™n ch·∫•t, kh√¥ng pha tr·ªôn" },
            { id: 3, name: "H·∫°t d·∫ª n∆∞·ªõng", price: 80000, category: "Th·ª±c ph·∫©m", emoji: "üå∞", description: "H·∫°t d·∫ª n∆∞·ªõng th∆°m ngon, gi√≤n tan" },
            { id: 4, name: "Ch√® shan tuy·∫øt", price: 300000, category: "ƒê·ªì u·ªëng", emoji: "üçµ", description: "Ch√® shan tuy·∫øt c·ªï th√π, h∆∞∆°ng v·ªã ƒë·∫∑c bi·ªát" },
            { id: 5, name: "N·∫•m linh chi", price: 180000, category: "D∆∞·ª£c li·ªáu", emoji: "üçÑ", description: "N·∫•m linh chi r·ª´ng, b·ªï d∆∞∆°ng tƒÉng s·ª©c kh·ªèe" },
            { id: 6, name: "S√¢m Ng·ªçc Linh", price: 450000, category: "D∆∞·ª£c li·ªáu", emoji: "üå±", description: "S√¢m Ng·ªçc Linh qu√Ω hi·∫øm t·ª´ ƒë·ªânh n√∫i cao" },
            { id: 7, name: "M√®o v·∫°c m·∫≠t", price: 95000, category: "Th·ª±c ph·∫©m", emoji: "ü•ú", description: "H·∫°t m√®o v·∫°c m·∫≠t th∆°m ngon, b√πi b√©o" },
            { id: 8, name: "Tr√† hoa v√†ng", price: 85000, category: "ƒê·ªì u·ªëng", emoji: "üåº", description: "Tr√† hoa v√†ng thanh m√°t, gi·∫£i nhi·ªát" },
            { id: 9, name: "M·∫≠t ong cao su", price: 320000, category: "Th·ª±c ph·∫©m", emoji: "üçØ", description: "M·∫≠t ong cao su nguy√™n ch·∫•t, v·ªã ng·ªçt ƒë·∫≠m ƒë√†" },
            { id: 10, name: "C·ªß m√†i t√°o m√®o", price: 75000, category: "D∆∞·ª£c li·ªáu", emoji: "ü•î", description: "C·ªß m√†i t√°o m√®o ch·ªØa ƒëau d·∫° d√†y" },
            { id: 11, name: "Tinh d·∫ßu s·∫£", price: 110000, category: "Tinh d·∫ßu", emoji: "üíß", description: "Tinh d·∫ßu s·∫£ nguy√™n ch·∫•t, ƒëu·ªïi mu·ªói hi·ªáu qu·∫£" },
            { id: 12, name: "N·∫•m r∆°m r·ª´ng", price: 65000, category: "Th·ª±c ph·∫©m", emoji: "üçÑ", description: "N·∫•m r∆°m r·ª´ng t∆∞∆°i ngon, gi√†u dinh d∆∞·ª°ng" },
            { id: 13, name: "Ch√® t√¢m sen", price: 140000, category: "ƒê·ªì u·ªëng", emoji: "üçµ", description: "Ch√® t√¢m sen thanh ƒë·∫°m, d·ªÖ u·ªëng" },
            { id: 14, name: "Tinh d·∫ßu b·∫°c h√†", price: 90000, category: "Tinh d·∫ßu", emoji: "üåø", description: "Tinh d·∫ßu b·∫°c h√† m√°t l·∫°nh, th∆°m d·ªãu" },
            { id: 15, name: "N·∫•m ƒë√¥ng c√¥", price: 220000, category: "Th·ª±c ph·∫©m", emoji: "üçÑ", description: "N·∫•m ƒë√¥ng c√¥ kh√¥ cao c·∫•p, th∆°m ngon" },
            { id: 16, name: "ƒê·∫≠u c√¥ ve", price: 55000, category: "Th·ª±c ph·∫©m", emoji: "ü´ò", description: "ƒê·∫≠u c√¥ ve rang gi√≤n, b·ªï d∆∞·ª°ng" },
            { id: 17, name: "Tr√† ∆∞·ªõp hoa sen", price: 160000, category: "ƒê·ªì u·ªëng", emoji: "ü™∑", description: "Tr√† ∆∞·ªõp hoa sen th∆°m n·ª©c, cao c·∫•p" },
            { id: 18, name: "Tinh d·∫ßu qu·∫ø", price: 130000, category: "Tinh d·∫ßu", emoji: "üåø", description: "Tinh d·∫ßu qu·∫ø ·∫•m √°p, kh√°ng khu·∫©n t·ªët" },
            { id: 19, name: "M·ªôc nhƒ© r·ª´ng", price: 45000, category: "Th·ª±c ph·∫©m", emoji: "üçÑ", description: "M·ªôc nhƒ© r·ª´ng t·ª± nhi√™n, gi√≤n ngon" },
            { id: 20, name: "Ch√® b√∫p non", price: 185000, category: "ƒê·ªì u·ªëng", emoji: "üçÉ", description: "Ch√® b√∫p non cao c·∫•p, v·ªã thanh ng·ªçt" },
            { id: 21, name: "Tinh d·∫ßu tr√†m", price: 100000, category: "Tinh d·∫ßu", emoji: "üåø", description: "Tinh d·∫ßu tr√†m ch·ªØa c·∫£m l·∫°nh hi·ªáu qu·∫£" }
        ];

        let currentProducts = [...products];
        let isLoggedIn = false;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Admin Panel Loading...');
            initializeAdmin();
        });

        function initializeAdmin() {
            setupEventListeners();
            checkLoginStatus();
        }

        function setupEventListeners() {
            const loginForm = document.getElementById('loginForm');
            if (loginForm) {
                loginForm.addEventListener('submit', handleLogin);
            }
        }

        function checkLoginStatus() {
            const savedLogin = localStorage.getItem('adminLoggedIn');
            if (savedLogin === 'true') {
                showDashboard();
            } else {
                showLogin();
            }
        }

        function handleLogin(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            console.log('Login attempt:', username, password.length);
            
            if (username === 'admin' && password === 'admin123') {
                localStorage.setItem('adminLoggedIn', 'true');
                showStatusMessage('‚úÖ ƒêƒÉng nh·∫≠p th√†nh c√¥ng!', 'success');
                setTimeout(() => {
                    showDashboard();
                }, 1000);
            } else {
                showStatusMessage('‚ùå Sai t√™n ƒëƒÉng nh·∫≠p ho·∫∑c m·∫≠t kh·∫©u!', 'error');
            }
        }

        function showLogin() {
            document.getElementById('loginModal').style.display = 'flex';
            document.getElementById('dashboard').classList.remove('active');
            isLoggedIn = false;
        }

        function showDashboard() {
            document.getElementById('loginModal').style.display = 'none';
            document.getElementById('dashboard').classList.add('active');
            isLoggedIn = true;
            loadProducts();
            updateStatistics();
        }

        function logout() {
            localStorage.removeItem('adminLoggedIn');
            showStatusMessage('üëã ƒê√£ ƒëƒÉng xu·∫•t!', 'success');
            setTimeout(() => {
                showLogin();
                document.getElementById('loginForm').reset();
            }, 1000);
        }

        function loadProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            
            currentProducts.forEach(product => {
                const currentPrice = getCurrentPrice(product.id);
                const hasChanged = currentPrice !== product.price;
                
                const productCard = `
                    <div class="product-card" data-category="${product.category}" data-name="${product.name.toLowerCase()}">
                        <div class="product-header">
                            <h4>${product.name}</h4>
                            <span class="product-emoji">${product.emoji}</span>
                        </div>
                        
                        <div class="product-info">
                            <p><strong>Danh m·ª•c:</strong> ${product.category}</p>
                            <p><strong>M√¥ t·∫£:</strong> ${product.description}</p>
                        </div>
                        
                        <div class="price-section">
                            <div class="price-display">
                                <span class="original-price">Gi√° g·ªëc: ${formatPrice(product.price)}</span>
                                <span class="current-price">Hi·ªán t·∫°i: ${formatPrice(currentPrice)}</span>
                            </div>
                            ${hasChanged ? '<small style="color: #28a745; font-weight: bold;">‚ú® ƒê√£ thay ƒë·ªïi</small>' : ''}
                        </div>
                        
                        <div class="price-edit">
                            <input type="number" class="price-input" id="price${product.id}" placeholder="${currentPrice}" value="${currentPrice}">
                            <button class="btn-sm btn-edit" onclick="updatePrice(${product.id})">
                                <i class="fas fa-save"></i> C·∫≠p nh·∫≠t
                            </button>
                        </div>
                        
                        <div class="product-actions">
                            <button class="btn-sm btn-reset" onclick="resetPrice(${product.id})">
                                <i class="fas fa-undo"></i> Reset
                            </button>
                        </div>
                    </div>
                `;
                
                grid.innerHTML += productCard;
            });
        }

        function getCurrentPrice(productId) {
            const savedPrice = localStorage.getItem(`product_${productId}_price`);
            if (savedPrice) {
                return parseInt(savedPrice);
            }
            const product = products.find(p => p.id === productId);
            return product ? product.price : 0;
        }

        function updatePrice(productId) {
            const input = document.getElementById(`price${productId}`);
            const newPrice = parseInt(input.value);
            
            if (isNaN(newPrice) || newPrice <= 0) {
                showStatusMessage('‚ùå Vui l√≤ng nh·∫≠p gi√° h·ª£p l·ªá!', 'error');
                return;
            }
            
            localStorage.setItem(`product_${productId}_price`, newPrice);
            
            const product = products.find(p => p.id === productId);
            showStatusMessage(`‚úÖ ƒê√£ c·∫≠p nh·∫≠t gi√° ${product.name} th√†nh ${formatPrice(newPrice)}`, 'success');
            
            loadProducts();
            updateStatistics();
        }

        function resetPrice(productId) {
            localStorage.removeItem(`product_${productId}_price`);
            
            const product = products.find(p => p.id === productId);
            showStatusMessage(`üîÑ ƒê√£ kh√¥i ph·ª•c gi√° g·ªëc ${product.name}`, 'success');
            
            loadProducts();
            updateStatistics();
        }

        function resetAllPrices() {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën kh√¥i ph·ª•c t·∫•t c·∫£ gi√° v·ªÅ ban ƒë·∫ßu?')) {
                products.forEach(product => {
                    localStorage.removeItem(`product_${product.id}_price`);
                });
                
                showStatusMessage('üîÑ ƒê√£ kh√¥i ph·ª•c t·∫•t c·∫£ gi√° v·ªÅ ban ƒë·∫ßu!', 'success');
                loadProducts();
                updateStatistics();
            }
        }

        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const categoryFilter = document.getElementById('categoryFilter').value;
            
            const cards = document.querySelectorAll('.product-card');
            
            cards.forEach(card => {
                const name = card.getAttribute('data-name');
                const category = card.getAttribute('data-category');
                
                const matchesSearch = name.includes(searchTerm);
                const matchesCategory = !categoryFilter || category === categoryFilter;
                
                if (matchesSearch && matchesCategory) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function updateStatistics() {
            let modifiedCount = 0;
            let totalPrice = 0;
            
            products.forEach(product => {
                const currentPrice = getCurrentPrice(product.id);
                totalPrice += currentPrice;
                if (currentPrice !== product.price) {
                    modifiedCount++;
                }
            });
            
            document.getElementById('modifiedProducts').textContent = modifiedCount;
            document.getElementById('averagePrice').textContent = formatPrice(Math.round(totalPrice / products.length));
        }

        function formatPrice(price) {
            return new Intl.NumberFormat('vi-VN').format(price) + '‚Ç´';
        }

        function showStatusMessage(message, type) {
            const statusEl = document.getElementById('statusMessage');
            statusEl.textContent = message;
            statusEl.className = `status-message ${type} show`;
            
            setTimeout(() => {
                statusEl.classList.remove('show');
            }, 3000);
        }

        console.log('‚úÖ Admin Panel Ready!');
    </script>
</body>
</html>
